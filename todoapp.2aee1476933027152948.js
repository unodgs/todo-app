(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1),n=o(38),r=o(12),d=o(13);t.todoActions=n.unionize({ADD_ITEM:r.ofType(),REMOVE_ITEM:r.ofType(),UPDATE_ITEM:r.ofType(),EDIT_ITEM:r.ofType(),SET_ITEMS:r.ofType(),SET_ACTIVE_FILTER:r.ofType()}),t.loadTodos=()=>(e,o,n)=>i.__awaiter(void 0,void 0,void 0,(function*(){const o=yield n.todoService.list();e(t.todoActions.SET_ITEMS(o))})),t.addTodo=e=>(o,n,r)=>i.__awaiter(void 0,void 0,void 0,(function*(){const i=yield r.todoService.addTodo(e);yield o(t.todoActions.ADD_ITEM(d.makeTodoItem(i,e)))})),t.editTodo=(e,o)=>(n,r,d)=>i.__awaiter(void 0,void 0,void 0,(function*(){const i=r().todo.items.find(t=>t.id===e);i&&(i.title=o,yield d.todoService.updateTodo(i),n(t.todoActions.UPDATE_ITEM(i)))})),t.removeTodo=e=>(o,n,r)=>i.__awaiter(void 0,void 0,void 0,(function*(){yield r.todoService.removeTodo(e),o(t.todoActions.REMOVE_ITEM(e))})),t.markCompleted=(e,o)=>(n,r,d)=>i.__awaiter(void 0,void 0,void 0,(function*(){const i=r().todo.items.find(t=>t.id===e);i&&(i.completed=o,yield d.todoService.updateTodo(i),n(t.todoActions.UPDATE_ITEM(i)))})),t.setFilter=e=>o=>{o(t.todoActions.SET_ACTIVE_FILTER(e))}},,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.theme={placeholderColor:"rgb(217, 217, 217)",mainColor:"#dadada",mainHoverColor:"#aaaaaa",itemHoverColor:"rgba(0, 255, 0, 0.05)",itemBorderColor:"#26a826",errorColor:"#e74343"}},,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTodoItem=function(e,t){return{id:e,title:t,createdAt:(new Date).getTime(),completed:!1}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importStar(o(0)),n=o(2),r=o(7);t.Edit=({onEnter:e,onEscape:t,initialValue:o,fontSize:d})=>{const[a,l]=i.useState(o),[c,s]=i.useState(!1);return i.default.createElement(n.Box,{component:"input",width:"100%",fontSize:d||"16px",paddingLeft:"10px",paddingRight:"10px",border:"1px solid "+(c?r.theme.errorColor:r.theme.mainColor),placeholderColor:r.theme.placeholderColor,props:{autoFocus:!0,placeholder:"Task description",value:a,onChange:e=>{l(e.target.value),s(!1)},onKeyDown:o=>{13===o.keyCode?""===a.trim()?s(!0):(e(a),l("")):27===o.keyCode&&t&&t()}}})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(3);function n(e){return e.reduce((e,t)=>t.completed?e:e+1,0)}t.initialState={items:[],activeFilter:"all",itemsLeft:0,editItemId:null},t.todoReducer=(e=t.initialState,o)=>i.todoActions.match(o,{ADD_ITEM:t=>{const o=[t,...e.items];return Object.assign(Object.assign({},e),{items:o,itemsLeft:n(o)})},UPDATE_ITEM:t=>{const o=e.items.map(e=>e.id===t.id?t:e);return Object.assign(Object.assign({},e),{items:o,itemsLeft:n(o)})},REMOVE_ITEM:t=>{const o=e.items.filter(e=>e.id!==t);return Object.assign(Object.assign({},e),{items:o,itemsLeft:n(o)})},EDIT_ITEM:t=>Object.assign(Object.assign({},e),{editItemId:t}),SET_ITEMS:t=>Object.assign(Object.assign({},e),{items:t,itemsLeft:n(t)}),SET_ACTIVE_FILTER:t=>Object.assign(Object.assign({},e),{activeFilter:t}),default:()=>e}),t.getFilteredItems=function(e,t){return e.filter(e=>"active"===t?!e.completed:"completed"===t?e.completed:e)}},,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1),n=i.__importDefault(o(0)),r=i.__importDefault(o(6)),d=o(24);o(42),o(60);const a=o(62),l=o(65),c=o(4),s=o(3),u=l.createServices(),m=a.configureStore(u);m.dispatch(s.loadTodos()),r.default.render(n.default.createElement(n.default.StrictMode,null,n.default.createElement(c.Provider,{store:m},n.default.createElement(d.App,null))),document.getElementById("root"))},,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0)),n=o(2),r=o(4),d=o(31),a=o(32),l=o(40),c=o(41),s=o(3),u=o(15);t.App=()=>{const e=r.useDispatch(),t=r.useSelector(e=>e.todo.items),o=r.useSelector(e=>e.todo.activeFilter),m=u.getFilteredItems(t,o);return i.default.createElement(n.Box,{maxWidth:800,margin:"0 auto"},i.default.createElement(d.Header,{title:"TODO APP"}),i.default.createElement(n.Box,{padding:"10px",margin:"30px",marginTop:"10px",boxShadow:"0px 0px 13px 1px rgba(0,0,0,0.15)"},i.default.createElement(l.TodoAdd,{onEnter:t=>e(s.addTodo(t))}),i.default.createElement(a.TodoList,{items:m}),i.default.createElement(c.Filters,null)))}},,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0)),n=o(2);t.Header=({title:e})=>i.default.createElement(n.Box,{textAlign:"center",fontSize:"24px",paddingBottom:"5px"},e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0)),n=o(2),r=o(33);t.TodoList=({items:e})=>i.default.createElement(n.Box,{height:400,overflowY:"auto"},e.map(e=>i.default.createElement(r.TodoListItem,{key:e.id,item:e})))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1),n=i.__importDefault(o(0)),r=o(2),d=i.__importDefault(o(34)),a=o(37),l=o(4),c=o(3),s=o(7),u=o(39);t.TodoListItem=({item:e})=>{const t=l.useDispatch(),o=l.useSelector(t=>t.todo.editItemId===e.id);return n.default.createElement(r.Col,{padding:"10px 0px",hoverBackgroundColor:s.theme.itemHoverColor},n.default.createElement(r.Row,{alignItems:"center"},n.default.createElement(r.Box,{paddingLeft:10,textAlign:"center",fontSize:"24px",color:s.theme.mainColor,hoverColor:s.theme.mainHoverColor},n.default.createElement(a.CheckBox,{checked:e.completed,onChange:o=>{t(c.markCompleted(e.id,o))}})),n.default.createElement(r.Box,{flexGrow:2,paddingLeft:"10px",paddingRight:"10px",textDecoration:e.completed?"line-through":"none"},o?n.default.createElement(u.TodoEdit,{item:e}):e.title),n.default.createElement(r.Box,{fontSize:"18px",paddingRight:10,color:s.theme.mainColor,hoverColor:s.theme.mainHoverColor},n.default.createElement("i",{className:"fas fa-edit",onClick:()=>t(c.todoActions.EDIT_ITEM(e.id))})),n.default.createElement(r.Box,{fontSize:"18px",paddingRight:10,color:s.theme.mainColor,hoverColor:s.theme.mainHoverColor},n.default.createElement("i",{className:"fas fa-times",onClick:()=>{t(c.todoActions.EDIT_ITEM(null)),t(c.removeTodo(e.id))}}))),n.default.createElement(r.Box,{paddingLeft:10,paddingTop:5,fontSize:"10px"},n.default.createElement(d.default,{date:e.createdAt})))}},,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0));t.CheckBox=({checked:e,onChange:t})=>{const o=e?"fa-dot-circle":"fa-circle";return i.default.createElement("i",{className:"far "+o,onClick:()=>t(!e)})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(12);t.unionize=function(e){return i.unionize(e,{tag:"type",value:"payload"})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0)),n=o(14),r=o(3),d=o(4);t.TodoEdit=({item:e})=>{const t=d.useDispatch();return i.default.createElement(n.Edit,{initialValue:e.title,onEnter:o=>{t(r.editTodo(e.id,o)),t(r.todoActions.EDIT_ITEM(null))},onEscape:()=>t(r.todoActions.EDIT_ITEM(null))})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0)),n=o(2),r=o(14);t.TodoAdd=({onEnter:e})=>i.default.createElement(n.Row,{marginBottom:"10px",height:"50px"},i.default.createElement(r.Edit,{initialValue:"",onEnter:e,fontSize:24}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1).__importDefault(o(0)),n=o(2),r=o(4),d=o(3),a=o(7),l=({title:e,active:t,onFilter:o})=>i.default.createElement(n.Box,{paddingLeft:"10px",paddingRight:"10px",marginRight:"5px",marginLeft:"5px",border:t?"1px solid "+a.theme.itemBorderColor:"1px solid transparent",borderRadius:"3px",hoverBackgroundColor:a.theme.itemHoverColor,props:{onClick:o}},e);t.Filters=()=>{const e=r.useDispatch(),t=r.useSelector(e=>e.todo.activeFilter),o=r.useSelector(e=>e.todo.itemsLeft);return i.default.createElement(n.Row,{borderTop:"1px solid "+a.theme.mainColor,paddingTop:"10px",marginTop:10},i.default.createElement(n.Box,{width:"30%"},o+" items left"),i.default.createElement(n.Row,{flexGrow:2,justifyContent:"center"},i.default.createElement(l,{title:"All",active:"all"===t,onFilter:()=>e(d.setFilter("all"))}),i.default.createElement(l,{title:"Active",active:"active"===t,onFilter:()=>e(d.setFilter("active"))}),i.default.createElement(l,{title:"Completed",active:"completed"===t,onFilter:()=>e(d.setFilter("completed"))})),i.default.createElement(n.Box,{width:"30%"}))}},,,,,,,,,,,,,,,,,,,function(e,t,o){var i=o(16),n=o(61);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};i(n,r);e.exports=n.locals||{}},function(e,t,o){(t=o(17)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Proxima+Nova);"]),t.push([e.i,"html {\n    width: 100vw;\n    height: 100vh;\n    font-family: proxima-nova, sans-serif;\n}\n\nbody {\n    padding: 0;\n    color: rgb(102, 102, 102);\n}\n\ninput {\n    outline: none;\n}\n\n* {\n    box-sizing: border-box;\n}",""]),e.exports=t},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1),n=o(5),r=(o(63),i.__importDefault(o(64))),d=o(15);t.configureStore=function(e){const t=a(e),o=n.applyMiddleware(r.default.withExtraArgument(e)),i=n.compose(o);return n.createStore(t,i)};const a=e=>n.combineReducers({todo:d.todoReducer})},,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(66);t.createServices=()=>({todoService:new i.TodoLocalService})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(13);class n{getItems(){const e=localStorage.getItem(n.TODO_LIST_KEY)||"[]";return JSON.parse(e)}saveItems(e){const t=JSON.stringify(e);localStorage.setItem(n.TODO_LIST_KEY,t)}getNextItemId(){return"todo/"+(this.getItems().length+1)}addTodo(e){return new Promise(t=>{const o=this.getNextItemId(),n=[i.makeTodoItem(o,e),...this.getItems()];this.saveItems(n),t(o)})}updateTodo(e){return new Promise(t=>{const o=this.getItems().map(t=>t.id===e.id?e:t);this.saveItems(o),t()})}removeTodo(e){return new Promise(t=>{const o=this.getItems().filter(t=>t.id!==e);this.saveItems(o),t()})}list(){return new Promise(e=>{e(this.getItems())})}}t.TodoLocalService=n,n.TODO_LIST_KEY="todo_list"}],[[19,0,2]]]);
//# sourceMappingURL=todoapp.2aee1476933027152948.js.map